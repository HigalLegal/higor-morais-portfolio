import{a as q}from"./chunk-PJMEV3LH.js";import{a as F,e as J}from"./chunk-XGWKEUC7.js";import{a as K}from"./chunk-2NGBAERZ.js";import"./chunk-RZOFHZQL.js";import"./chunk-X2KLAOIO.js";import{m as E,n as N}from"./chunk-6BXR4CBA.js";import{b as L,c as V}from"./chunk-QQMGSK2W.js";import{a as $}from"./chunk-N6PF2LVR.js";import{a as R}from"./chunk-XFF5VJPY.js";import{j as w}from"./chunk-GQH7GEWZ.js";import{t as B,v as A}from"./chunk-7NQHDTFN.js";import{a as j}from"./chunk-QOSKVCJ4.js";import{E as D}from"./chunk-FO7KHA5M.js";import{m as P}from"./chunk-R43BVMU7.js";import{Ab as c,Bb as n,Cb as a,Db as u,Hb as M,Kb as g,Lb as s,Sa as x,Va as r,Wb as y,Zb as d,_a as p,_b as T,ac as O,ec as I,gb as C,ia as _,ja as S,sa as m,vb as f,wb as v,x as h,yb as b,zb as k}from"./chunk-XWV3PDOS.js";var X=(o,e)=>e.id;function G(o,e){if(o&1&&(n(0,"div",1),u(1,"app-button-form",7),a()),o&2){let i=s();r(),c("text",i.i18n.register)}}function H(o,e){if(o&1){let i=M();n(0,"div",9)(1,"span"),d(2),a()(),n(3,"div",10),u(4,"app-button-form",11),n(5,"app-button-action",12),g("clicked",function(){_(i);let l=s().$implicit,U=s();return S(U.handleDelete(l.id))}),a()()}if(o&2){let i=s().$implicit,t=s();r(2),O("",t.i18n.importanceLevel,"",i.importanceLevel),r(2),c("text",t.i18n.edit)("urlRouter","editar-tecnologia/"+i.id),r(),c("text",t.i18n.del)}}function Q(o,e){if(o&1&&(n(0,"mat-card",6),u(1,"img",8),n(2,"p"),d(3),a(),f(4,H,6,5),a()),o&2){let i=e.$implicit,t=s();r(),c("alt",I(i.name))("src",i.urlImage,x),r(2),T(i.name),r(),v(t.isAdmin()?4:-1)}}var z=class o{constructor(e,i,t,l){this.translate=e;this.technologyService=i;this.tokenService=t;this.snackBarService=l;this.isAdmin.set(t.isAdmin())}TRANSLATE_JSON="skills";isAdmin=m(!1);isButtonDeleting=m(!1);index=m(0);technologies=[];i18n={importanceLevel:"",register:"",edit:"",del:""};isLoading=m(!0);ngOnInit(){this.insertI18N(),this.searchTechnologies()}ngAfterViewInit(){setTimeout(()=>{this.isLoading.set(!1)},200)}next(){this.index.update(e=>(e+1)%this.technologies.length)}prev(){this.index.update(e=>(e-1+this.technologies.length)%this.technologies.length)}handleDelete(e){let i=this.technologies.filter(t=>e==t.id)[0].name;this.technologyService.delete(e).subscribe({next:()=>{this.openSucessDelete(i),this.searchTechnologies(),this.isButtonDeleting.set(!0)},error:t=>{console.error("Erro inesperado! ",t),this.isButtonDeleting.set(!0)}}),this.isButtonDeleting.set(!1)}searchTechnologies(){this.technologyService.getAll().subscribe({next:e=>{this.technologies=e},error:e=>{console.error("Erro inesperado! ",e)}})}openSucessDelete(e){this.snackBarService.openSnackBarSucess(`${e} exclu\xEDdo com sucesso!`)}recoverValue(e){return this.translate.retrieveKeyValueObservable(`${this.TRANSLATE_JSON}.${e}`)}observableRequests(){return[this.recoverValue("importanceLevel"),this.recoverValue("register"),this.recoverValue("edit"),this.recoverValue("del")]}insertI18N(){h(this.observableRequests()).subscribe({next:([e,i,t,l])=>{this.i18n={importanceLevel:e,register:i,edit:t,del:l}},error:e=>console.error("Erro inesperado! "+e)})}static \u0275fac=function(i){return new(i||o)(p(D),p(q),p(R),p(N))};static \u0275cmp=C({type:o,selectors:[["app-skills"]],decls:13,vars:4,consts:[[3,"isLoading"],[1,"button-form"],[1,"carousel-container"],["mat-icon-button","",3,"click"],[1,"carousel-wrapper"],[1,"carousel-track"],[1,"carousel-item"],["urlRouter","inserir-tecnologia",3,"text"],[3,"src","alt"],[1,"importance-level"],[1,"actions"],[3,"text","urlRouter"],[3,"clicked","text"]],template:function(i,t){i&1&&(n(0,"app-api-loading",0),f(1,G,2,1,"div",1),n(2,"div",2)(3,"button",3),g("click",function(){return t.prev()}),n(4,"mat-icon"),d(5,"chevron_left"),a()(),n(6,"div",4)(7,"div",5),b(8,Q,5,5,"mat-card",6,X),a()(),n(10,"button",3),g("click",function(){return t.next()}),n(11,"mat-icon"),d(12,"chevron_right"),a()()()()),i&2&&(c("isLoading",t.isLoading()),r(),v(t.isAdmin()?1:-1),r(6),y("transform","translateX(-"+t.index()*100+"%)"),r(),k(t.technologies))},dependencies:[A,B,V,L,J,F,P,w,K,$,j,E],styles:[".button-form[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.button-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#101d20}.carousel-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;margin-top:120px}.carousel-wrapper[_ngcontent-%COMP%]{width:400px;overflow:hidden}.carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out;justify-content:space-between}.carousel-track[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{box-shadow:none}.carousel-item[_ngcontent-%COMP%]{min-width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:none;font-family:MedievalSharp;color:var(--font-color)}.carousel-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:10px}.carousel-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:15px}.carousel-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   app-button-form[_ngcontent-%COMP%]{margin-top:20px;margin-right:10px}img[_ngcontent-%COMP%]{max-width:60%;height:auto}"]})};export{z as SkillsComponent};
