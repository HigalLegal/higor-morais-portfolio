import{b as E,c as T}from"./chunk-QQMGSK2W.js";import{E as y}from"./chunk-FO7KHA5M.js";import{$b as c,Bb as r,Cb as l,Db as I,Hb as g,Kb as C,Lb as s,Pb as F,Qb as O,Rb as w,Va as p,Zb as a,_a as h,gb as b,ia as m,ja as u,mb as x,vb as d,wa as _,wb as f,x as v}from"./chunk-XWV3PDOS.js";var M=["fileInput"];function V(i,e){if(i&1&&a(0),i&2){let t=s();c(" ",t.fileName," ")}}function U(i,e){if(i&1&&a(0),i&2){let t=s();c(" ",t.message," ")}}function k(i,e){if(i&1){let t=g();I(0,"br"),r(1,"button",3),C("click",function(){m(t);let o=s();return u(o.onClear())}),r(2,"mat-icon"),a(3,"cleaning_services"),l(),a(4),l()}if(i&2){let t=s();p(4),c(" ",t.messageClear," ")}}var N=class i{constructor(e){this.translate=e}TRANSLATE_JSON="fileUpload";message="";messageClear="";fileName=null;fileInput;imageFile=null;image=new x;ngOnInit(){this.insertI18N()}ngOnChanges(e){e.imageFile&&!this.imageFile&&this.onClear()}onFileSelected(e){let n=e.target.files?.[0];n&&(this.image.emit(n),this.fileName=n.name)}onClear(){this.clearDocument(),this.fileName=null,this.image.emit(null)}clearDocument(){let e=document.getElementById("fileInput");e&&(e.value="")}recoverValue(e){return this.translate.retrieveKeyValueObservable(`${this.TRANSLATE_JSON}.${e}`)}observableRequests(){return[this.recoverValue("escolher"),this.recoverValue("limpar")]}insertI18N(){v(this.observableRequests()).subscribe({next:([e,t])=>{this.message=e,this.messageClear=t},error:e=>{console.error("Erro inesperado! "+e)}})}static \u0275fac=function(t){return new(t||i)(h(y))};static \u0275cmp=b({type:i,selectors:[["app-file-upload"]],viewQuery:function(t,n){if(t&1&&F(M,5),t&2){let o;O(o=w())&&(n.fileInput=o.first)}},inputs:{imageFile:"imageFile"},outputs:{image:"image"},features:[_],decls:8,vars:2,consts:[["fileInput",""],["type","file","id","fileInput","accept",".png, .jpg, .jpeg",1,"hidden-file-input",3,"change"],["for","fileInput",1,"custom-file-label"],[1,"custom-file-label",3,"click"]],template:function(t,n){if(t&1){let o=g();r(0,"input",1,0),C("change",function(S){return m(o),u(n.onFileSelected(S))}),l(),r(2,"label",2)(3,"mat-icon"),a(4,"upload"),l(),d(5,V,1,1)(6,U,1,1),l(),d(7,k,5,1)}t&2&&(p(5),f(n.fileName?5:6),p(2),f(n.fileName?7:-1))},dependencies:[T,E],styles:[".hidden-file-input[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{border:none;margin-top:8px}.custom-file-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background-color:#1976d2;color:#fff;cursor:pointer;border-radius:20px;font-weight:500;transition:background .3s ease;width:100%;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.custom-file-label[_ngcontent-%COMP%]:hover{background-color:#1565c0}.custom-file-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}"]})};export{N as a};
